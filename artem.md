Сегодня вы можете создавать любые видызадавать объекту любую форм при помощи CSS-трансформацийформу CSS-трансформациями, но эти формы не могут влиять на поведение содержимого внутри них или вокруг них. Например, если вы создаете треугольник или трапецию посредствомс помощью CSS, то созданная форма не определяет и не влияет на то, как будет вести себя текст внутри фигуры или вне ее.

С появлением CSS-форм в вебе стало проще обернуть контент в пользовательскуюпридать контенту непрямоугольную форму или же воссоздать типографические (печатные) проекты и макеты.

В этой статье я собираюсь перейти к описанию базовых формрасскажу, как создавать базовые формы и созданию простых макетовпростые макеты с использованием новых CSS-технологий. Когда большинство возможностей CSS-форм будет внедрено, тогда все более сложные и разнообразные макеты будут доступнодоступны, но даже с тем, что мы сейчас имеем, можно создать несколько интересных макетов, нужно всего лишьвсего-лишь поэкспериментировать.

CSS-технологии, о которых я буду рассказывать в этой статье, являются передовыми, и не все браузеры их поддерживают. Если вы хотите увидеть работающие живые демонстрации кода, тогда вы должны убедиться, что смотрите в браузерах, которые поддерживают эти технологииCSS-технологии, о которых я буду рассказывать в этой статье, являются передовыми, и не все браузеры их поддерживают. Если вы хотите увидеть работающие живые примеры кода, вам понадобится браузер, который поддерживает эти технологии.

На тот момент, когда я писала статью, только Chrome Canary поддерживал версию CSS-форм без префиксов, но для этого его надо запускать со специальным флагом. Убедитесь, что вам доступны возможности CSS-форм, чтобы смотреть на работающие демонстрации.

Когда я писала статью, только Chrome Canary поддерживал версию CSS-форм без префиксов, но для того, чтобы они заработали, нужно включить специальный флаг в настройках.

Так же я вставила скриншоты демо-версийпримеров, так что вы сможете увидеть, как выглядит финальный результат.

Пожалуйста, учтите, что часть информации, упоминаемаяупоминаемой в этой статье, может быть изменена, когда поддержка CSS-форм будет увеличена (расширена), и многие возможности этой спецификации будут реализованы.

Объявление формы
Все HTML-элементы имеют прямоугольную блочную модель, которая управляет потоком содержимого внутри и снаружи нее. Для того, чтобы придать элементу пользовательскую непрямоугольную форму, мы используем свойства shape-inside и shape-outside. Во время того какнепрямоугольную форму, мы используем свойства shape-inside и shape-outside. Когда я писала эту статью, свойство shape-outside применялось только для плавающих элементов, а свойство shape-inside не было полностью внедрено, поэтому при использовании этих свойств у вас могут возникать ошибки. Свойства shape-* могут применяться только к блочным элементам. Неблочные элементы должны приводиться стилями к блочным, и только тогда можно использовать shape-свойства.

Shape-* свойства принимают одно из трех значений: auto, базовая фигура или image URIURI изображения. Если свойство установлено в auto, то плавающие элементы используют margin box в обычном режиме. Если вы не знакомы с CSS box-model, то рекомендую ознакомиться, потому что вы должны знать, как это работает.

Если свойству задана «функция формы» (shape function)»), то форма вычисляется на основе выбора одного из значений функций - rectangle, inset-rectangle, circle, ellipse, polygon. Больше информации об этих функциях вы сможете найти в статье от команды Adobe Platform.

И наконец, если свойству задано URI изображения, браузер будет использовать изображение для извлечения и вычисления формы, основываясь на альфа-канале изображения. Форма вычисляет путь, который охватывает область, где непрозрачность указаного изображения больше, чем значение параметра shape-image-threshold. Если параметр shape-image-threshold не задан, то исходным значением считается 0.5. Изображение должно быть CORS-same-origin, в противном случае оно не будет работать, и значение shape-* свойства автоматически установится в auto.

Система координат обязательна, так как формы, которые вы задаете, будут определены через набор точек (и радиусов, если рисовать круги или элипсы), и эти точки задаются через кооридинаты x и y на координатной оси.

Свойства формы используют content-box (контейнер) элемента, к которому они применяются ради системы координат, поэтому чтобы свойства заработали, вы должны указатьзадать ширину и высоту элементу, которые создают bounding-box (описанный прямоугольник), который в свою очередь можно использовать для установки системы координат для отрисовки форм. Если ширина и высота явно не указаны, свойства форм работать не будут.

Центр системы координат у элемента с заданными размерами устанавливается в верхний левый угол.

Фон применен к заданой пользователем форме
Фон применен к заданой пользователем форме

Вам хочется просто указать фон содержащему элементу, чтобы результат быбыл таким как на картинке выше (я так и сделала в первый раз), но это не сработает. Дело в том, что все свойства элемента, кроме потока за его пределами, не зависят от формы заданой внутри него, и они будут отрисовываться в обычном режиме согласно блочной модели элементов (прямоугольной формы), как мы читали в спефикации выше. Так что, если вы примените цвет фона к элементу, то...

Фон применяется к прямоугольной коробке элемента
Фон применяется к прямоугольной коробке элемента

Система координат для форм, к которым применялись свойства clip-path, устанавливается, используя границы элемента, для которого clip-path был применен, поэтому система координат аналогична для свойств shape-*.

Благодаря этому мы можем использовать ту же форму, определенную в свойстве shape-* для обрезающего пути, которая вырежет или обрежет все то, что находится внутри объемлющего элемента и выходит за границы формы. В результате мы получим кастомнуюсвою фигуру с фоном.

Вы можете протестировать эту идею вживую, только убедитесь что вы тестируете в браузере, который это поддерживает.